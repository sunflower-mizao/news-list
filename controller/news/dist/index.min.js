"use strict";var newsModel=require("../../service/news");module.exports={index:function(r){var n,t,a,s,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(r.query.p)||1,t=5,e.next=4,regeneratorRuntime.awrap(newsModel.getData(n,t));case 4:return a=e.sent,e.next=7,regeneratorRuntime.awrap(newsModel.getTotal());case 7:return s=e.sent,u=Math.ceil(s/t),e.next=11,regeneratorRuntime.awrap(r.render("./news/index.pug",{newsData:a,pCount:u,p:n}));case 11:case"end":return e.stop()}})},detail:function(r){var n,t,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=parseInt(r.query.id)||1,e.next=3,regeneratorRuntime.awrap(newsModel.getTotalData());case 3:return t=e.sent,a=t.filter(function(e){return e.id==n})[0],e.next=7,regeneratorRuntime.awrap(r.render("./news/detail.pug",{detailData:a}));case 7:case"end":return e.stop()}})},getMassage:function(r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(newsModel.massageData());case 2:n=e.sent,r.body=n;case 4:case"end":return e.stop()}})}};
//# sourceMappingURL=index.min.js.map
